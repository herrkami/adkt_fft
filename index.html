<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>reveal.js</title>

  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="dist/theme/kami-serif.css">

  <!-- Theme used for syntax highlighted code (show case: https://highlightjs.org/demo) -->
  <!-- <link rel="stylesheet" href="plugin/highlight/zenburn.css"> -->
  <!-- <link rel="stylesheet" href="plugin/highlight/grayscale.css"> -->
  <!-- <link rel="stylesheet" href="plugin/highlight/ascetic.css"> -->
  <!-- <link rel="stylesheet" href="plugin/highlight/black-metal.css"> -->

  <!-- <script src="https://cdn.jsdelivr.net/npm/reveal.js-plugins@latest/loadcontent/plugin.js"></script> -->
  <script src="plugin/chart/chart.min.js"></script>
  <script src="plugin/chart/plugin.js"></script>
  
  <style>
    .slide-background-content {
      background-image: url("dist/img/Fourier.jpg");
      opacity: 0.5;
      background-position: 50% 25%;
      filter: blur(100px);
    }
  </style>


</head>

<body>
  <div class="reveal">
    <div class="slides">

      <!-- Intro -->
      <include src="slides/intro.html"></include>
      
      <!-- Goals -->
      <include src="slides/goals.html"></include>
      
      <!-- Motivation -->
      <include src="slides/time_and_frequency.html"></include>
      <include src="slides/space_and_frequency.html"></include>
      <include src="slides/ft_in_nature_and_technology.html"></include>
      
      <!-- Algorithms -->
      <include src="slides/algorithms.html"></include>
      <include src="slides/pre_and_postprocessing.html"></include>
      
      <!-- Goodies -->
      <include src="slides/goodies.html"></include>
      
      <!-- Recap -->
      <include src="slides/recap.html"></include> 
      
    </div>
  </div>

  <script src="dist/reveal.js"></script>
  <script src="plugin/notes/notes.js"></script>
  <script src="plugin/markdown/markdown.js"></script>
  <script src="plugin/highlight/highlight.js"></script>
  <script src="plugin/math/math.js"></script>
  <script>
    function parseJSON(str) {
	    var json;
	    try {
        json = JSON.parse(str);
	    } catch (e) {
        return null;
      }
        return json;
    }


    // Math
    // Scales and constants
    const n_default = 256;
    var x_0_to_2pi = [ ...Array(n_default).keys() ].map((i) => i*2*Math.PI/n_default);
    var x_0_to_8pi = [ ...Array(n_default).keys() ].map((i) => i*8*Math.PI/n_default);
    // Helper functions
    const formatLabelRadian = (x) => {
      let n_pi_halves = parseInt(Math.round(x / ( Math.PI / 2 )));
      // 1/2 -> 1/2
      // ...
      if (n_pi_halves === 0) return '0';
      if ( (n_pi_halves + 1) % 2) {
        // 2/2 -> 1
        return (x / Math.PI ).toFixed(0) + ' π';
      } else {
        // return n_pi_halves + '/2 π';
        if ( parseInt(n_pi_halves/2) === 0 ) {
          return '½ π';
        } else {
          return parseInt(n_pi_halves/2) + '½ π';
        }
      }

      const label = ( + 1) % 2;
      return label;
    }

    // The following allows html files to be embedded
    function loadIncludes() {
      return Promise.all(
        [...document.querySelectorAll("include")].map((include) => {
          return fetch(include.getAttribute("src"))
            .then((response) => response.text())
            .then((html) => (include.outerHTML = html))
            .catch(console.err);
        })
      );
    }
    loadIncludes().then(() => {

      Reveal.initialize({
        // width: 960,
        // height: 700,
        width: 2000,
        height: 900,

        // minScale: 1,
        // maxScale: 1,

        margin: 0.04,

        hash: true,

        center:false,

        slideNumber: true,

        chart: {
          defaults: {
            color: '#383D3D', // color of labels
            font: {
              size: 20,
            },
            scale: {
              beginAtZero: true,
              ticks: { 
                // maxTicksLimit: 10,
                // autoSkip: false
                // count: 5, 
              },
              grid: { color: "#383D3D33" } , // color of grid lines
            },
            plugins: {
              legend: {
                display: false
              },
            },
          },
          line: { 
            borderColor: [ 
              "#383D3D", 
              "#383D3D", 
              "#383D3D", 
            ],
            // "borderDash": [ [5,10], [0,0] ] 
          },
          bar: { 
            backgroundColor: [ 
              "rgba(20,220,220,.8)", 
              "rgba(220,120,120,.8)", 
              "rgba(20,120,220,.8)" 
            ]
          },
          pie: { 
            backgroundColor: [[
              "rgba(0,0,0,.8)",
              "rgba(220,20,20,.8)",
              "rgba(20,220,20,.8)",
              "rgba(220,220,20,.8)",
              "rgba(20,20,220,.8)"
            ]]
          },
        },
        
        plugins: [
          RevealMarkdown, 
          RevealHighlight, 
          RevealNotes,
          RevealMath.KaTeX,

          RevealChart,
          // RevealLoadContent,
        ],
      });
    });

    // Custom style changers
    Reveal.on('unblur-bg', () => {
      for ( const bg of document.getElementsByClassName("slide-background-content") ){
        bg.style.transition = 'all 1000ms ease';
        bg.style.filter = 'none';
      };
    });

    Reveal.on('blur-bg', () => {
      for ( const bg of document.getElementsByClassName("slide-background-content") ){
        bg.style.transition = 'all 1000ms ease';
        bg.style.filter = 'blur(100px)';
      };
    });

    

    // Reveal.initialize({
    //   hash: true,
    //   plugins: [
    //     RevealMarkdown,
    //     RevealHighlight,
    //     RevealNotes,
    //   ],
    // });
  </script>
</body>

</html>